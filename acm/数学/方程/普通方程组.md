```c++
void Gauss(int n,double a[][510],double *b,double *x)
{
	for(int i=1;i<=n;++i)
	{
		int p=i;
		for(int k=i+1;k<=n;++k)if(fabs(a[k][i])>fabs(a[p][i]))p=i;
		if(i!=p)swap(a[i],a[p]),swap(b[i],b[p]);
		for(int k=i+1;k<=n;++k)
		{
			double d=a[k][i]/a[i][i];
			b[k]-=d*b[i];
			for(int j=i;j<=n;++j)a[k][j]-=d*a[i][j];
		} 
	}
	for(int i=n;i>=1;--i)
	{
		for(int j=i+1;j<=n;++j)b[i]-=x[j]*a[i][j];
		x[i]=b[i]/a[i][i];
	}
} 
```

